# 字符验证码处理-ddddcor库的使用：
import base64, re

import ddddocr

# img_b64_str = 'src="data:image/png;base64,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"'
# img_byte_data = base64.b64decode(img_b64_str.split(',')[1])
# # print(img_byte_data)
# with open(r'img.png', 'wb+') as f:
#     f.write(img_byte_data)

'===============================用ddddocr识别出图片的字符========================================'
'''
识别图片中的东西分为三步：
    1、先拿到要识别的图片的二进制数据；
    2、再对ddddocr提供的方法创建识别对象出来；
    3、最后使用识别对象对图片的二进制数据进行识别文字或解析位置。
'''
# with open(r'img.png', 'rb+') as f:
#     img_bytes = f.read()
#
# # ddddocr库中提供了DdddOcr类进行识别图片中的文字
# ocr = ddddocr.DdddOcr(show_ad=False, beta=True)  # 需要设置两个参数：show_ad = False表示不显示广告
# # DdddOcr类的对象提供了classification（图片的二进制数据）函数进行识别：
# result = ocr.classification(img_bytes)
# print(result)
'================================对base64的图片数据进行识别文字======================================'
img_base64 = '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'
img_bytes = base64.b64decode(img_base64)  # 把base64字符串解码为二进制数据
ocr = ddddocr.DdddOcr(show_ad=False, beta=True)
result = ocr.classification(img_bytes)
print(result)